<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<script src="js4/observable.js"></script>
	<script src="js4/module.js"></script>
	<script src="js4/watch.js"></script>
	<script src="js4/parse.js"></script>
	<script src="js4/compile.js"></script>
	<script src="js4/component.js"></script>
</head>

<body>

<web-component name="my-app">
	<template>
		<h1>Hello, world {{ a$ }} {{ l }} {{ count$ }}</h1>
		
		<ul>
			<li *repeat="rows as row">{{ row }}</li>
		</ul>
		
	</template>
</web-component>

<script>
app.component("my-app", function() {
	return {
		init() {
			this.rows = ["A","B","C"];
			
			this.count$ = this.watch$("rows as row").count();

			this.watch$("rows").subscribe(function(value) {
				console.log("rows", value);
			});

			this.watch$("rows as row, index").subscribe(function(value, index) {
				console.log(arguments);
			});

			window.$scope = this;
		}
	}
})
</script>


<my-app>
	<h1>This is Light DOM</h1>
</my-app>

</body>
</html>