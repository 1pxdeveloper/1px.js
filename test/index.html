<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<script src="../js/observable.js"></script>
	<script src="../js/module.js"></script>
	<script src="../js/parse.js"></script>
	<script src="../js/compile.js"></script>
	<script src="../js/component.js"></script>
</head>

<body>

<web-component name="my-app">
	<template>
		<h1>Hello, world {{ a$ }} {{ l }} {{ count$ }}</h1>
		<ul>
			<li *repeat="rows as row">{{ row }}</li>
		</ul>

		<button (click|stop|self|prevent|test|abc|debounce:1000)="hello()"></button>
	</template>
</web-component>


<script>module.component("my-app", function() {
	return {
		init($) {
			this.rows = ["A", "B", "C"];

			this.count$ = $`rows as row`.count();

			$`rows`.subscribe(function(value) {
				console.log("rows", value);
			});

			$`rows as row, index`.subscribe(function(value, index) {
				console.log(arguments);
			});

			window.app = this;
		},

		hello() {

			console.log("heelo")
		}
	}
});
</script>


<my-app>
	<h1>This is Light DOM</h1>
</my-app>

</body>
</html>